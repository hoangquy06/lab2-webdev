(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function s(e,t,...n){t=t||{};const o=n.flat().filter(r=>r!=null);return{type:e,props:t,children:o}}const x=new WeakMap,M=new Set;function R(e){M.has(e)||(M.add(e),document.addEventListener(e,t=>{let n=t.target;for(;n&&n!==document.documentElement;){const o=x.get(n)?.get(e);if(o){try{o.call(n,t)}catch(r){console.error(r)}if(t.cancelBubble)return}n=n.parentElement}}))}const A=new Set(["animation-iteration-count","box-flex","box-flex-group","box-ordinal-group","column-count","flex","flex-grow","flex-positive","flex-shrink","flex-negative","font-weight","line-height","opacity","order","orphans","widows","z-index","zoom"]);function $(e,t){for(const[n,o]of Object.entries(t)){if(n==="className"){e.className=o??"";continue}if(n==="ref"&&typeof o=="function"){o(e);continue}if(n==="value"){e.value=o;continue}if(n==="checked"){e.checked=!!o;continue}if(n.startsWith("on")&&typeof o=="function"){const r=n.slice(2).toLowerCase();let i=x.get(e);i||(i=new Map,x.set(e,i)),i.set(r,o),R(r);continue}if(n==="style"){if(typeof o=="string")e.setAttribute("style",o);else if(o&&typeof o=="object"){const r=Object.entries(o).map(([i,a])=>{const l=i.replace(/([A-Z])/g,"-$1").toLowerCase();return typeof a=="number"&&!A.has(l)?`${l}: ${a}px;`:`${l}: ${String(a)};`}).join(" ");e.setAttribute("style",r)}continue}if(o===!0){e.setAttribute(n,"");continue}if(o===!1||o==null){e.removeAttribute(n);continue}e.setAttribute(n,String(o))}}function y(e){if(typeof e=="string"||typeof e=="number")return document.createTextNode(String(e));if(e.type==="fragment"){const n=document.createDocumentFragment();return e.children.forEach(o=>n.appendChild(y(o))),n}if(typeof e.type=="function"){const n=e.type({...e.props,children:e.children});return y(n)}const t=document.createElement(e.type);return $(t,e.props),e.children.forEach(n=>t.appendChild(y(n))),t}let C=null,E=null,h=[],m=0,N=!1;function B(e){if(e)return e;let t=document.getElementById("root");return t||(t=document.createElement("div"),t.id="root",document.body.appendChild(t)),t}function P(){if(!C||!E)return;N=!1,m=0;const e=y(C),t=m;h.length=t,m=0,E.replaceChildren(e)}function F(){if(N)return;N=!0;const e=()=>{P()};typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e)}function T(e,t){C=e,E=B(t),h=[],P()}function v(e){const t=m;h.length<=t&&(h[t]=typeof e=="function"?e():e);const n=()=>h[t],o=r=>{const i=n(),a=typeof r=="function"?r(i):r;Object.is(i,a)||(h[t]=a,F())};return m+=1,[n,o]}function W(e,t,n,o){e.clearRect(0,0,t,n);const r=20,i=(t-r*2)/o.length-10,a=Math.max(...o.map(l=>l.value),1);o.forEach((l,u)=>{const c=r+u*(i+10),f=l.value/a*(n-r*2);e.fillStyle="#4f46e5",e.fillRect(c,n-r-f,i,f),e.fillStyle="#000",e.fillText(l.label,c,n-4)})}function j(e,t,n,o){e.clearRect(0,0,t,n);const r=30,i=Math.max(...o.map(l=>l.value),1),a=(t-r*2)/(o.length-1||1);e.beginPath(),o.forEach((l,u)=>{const c=r+u*a,f=n-r-l.value/i*(n-r*2);u===0?e.moveTo(c,f):e.lineTo(c,f)}),e.strokeStyle="#0ea5a4",e.lineWidth=2,e.stroke()}function H(e,t,n,o){e.clearRect(0,0,t,n);const r=o.reduce((c,f)=>c+f.value,0)||1,i=t/2,a=n/2,l=Math.min(t,n)/2-10;let u=-Math.PI/2;o.forEach((c,f)=>{const d=c.value/r*Math.PI*2;e.beginPath(),e.moveTo(i,a),e.arc(i,a,l,u,u+d),e.closePath(),e.fillStyle=["#ef4444","#f59e0b","#10b981","#3b82f6","#7c3aed"][f%5],e.fill(),u+=d})}const S=e=>{const{type:t,data:n,width:o=400,height:r=240,className:i}=e;return s("canvas",{ref:l=>{if(!l)return;const u=l,c=window.devicePixelRatio||1;u.width=o*c,u.height=r*c,u.style.width=`${o}px`,u.style.height=`${r}px`;const f=u.getContext("2d");f.scale(c,c),f.font="12px system-ui",t==="bar"?W(f,o,r,n):t==="line"?j(f,o,r,n):H(f,o,r,n)},className:i})},w=e=>{const{title:t,children:n,className:o,onClick:r}=e;return s("div",{className:`card ${o??""}`,onClick:r},t&&s("div",{className:"card-header"},s("h3",null,t)),s("div",{className:"card-body"},n))},q=e=>{const{onSubmit:t,children:n,className:o}=e;return s("form",{className:o,onSubmit:r=>{r.preventDefault();const i=r.target,a=new FormData(i);t&&t(a,r)}},n)},z=e=>{const{type:t="text",value:n,onChange:o,placeholder:r,className:i,name:a,id:l}=e;return s("input",{id:l,name:a,className:i,type:t,value:n,placeholder:r,onInput:c=>{const f=c.target;o&&o(f.value,c)}})};let p=[];const L=["Alpha","Beta","Gamma","Delta","Epsilon"];function I(){return Math.round(Math.random()*100)}function G(){return L.map(e=>({label:e,value:I()}))}let g=null;function K(e=1e3){g==null&&(g=setInterval(()=>{const t=L.map(n=>({label:n,value:I()}));p.forEach(n=>n(t))},e))}function k(){g!=null&&(clearInterval(g),g=null)}function U(e){return p.push(e),()=>{p=p.filter(t=>t!==e)}}function V(){const e=L.map(t=>({label:t,value:I()}));p.forEach(t=>t(e))}let b=null,D=null;const Z=()=>{const[e,t]=v(()=>G()),[n,o]=v(!1),[r,i]=v("");D=d=>t(()=>d);const a=n(),l=r().toLowerCase(),u=e(),c=l?u.filter(d=>d.label.toLowerCase().includes(l)):u;return s("div",{className:"dashboard",style:{padding:16,maxWidth:1100}},s("h1",null,"Realtime Dashboard"),s("div",{style:{display:"flex",gap:16,flexWrap:"wrap"}},s(w,{title:"Bar Chart",className:"dashboard-card"},s(S,{type:"bar",data:c,width:480,height:260})),s(w,{title:"Line Chart",className:"dashboard-card"},s(S,{type:"line",data:c,width:480,height:260}))),s("div",{style:{display:"flex",gap:16,marginTop:16,alignItems:"center"}},s("button",{onClick:()=>V()},"Refresh Now"),s("button",{onClick:()=>{const d=!n();o(d),d?K(1e3):k()}},a?"Stop Live":"Start Live"),s(q,{onSubmit:d=>{const O=String(d.get("filter")??"");i(O)},className:"dashboard-filter"},s(z,{name:"filter",placeholder:"Filter label",value:l,onChange:d=>i(d)}))),s("div",{style:{marginTop:24}},s(w,{title:"Pie Chart"},s(S,{type:"pie",data:c,width:600,height:300}))))};function J(e){return T(s(Z,null),e),b?.(),b=U(t=>D?.(t)),()=>{b?.(),b=null,k()}}J(document.getElementById("root"));
